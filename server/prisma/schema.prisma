generator client {
  provider = "prisma-client-js"
  output   = "../src/generated/client"
}

datasource db {
  provider = "sqlite"
  url      = "file:./dev.db"
}

model User {
  id            String   @id @default(uuid())
  email         String   @unique
  password_hash String?  // Nullable for future OAuth users
  name          String?
  
  // Future relations
  // collection CollectionItem[]
  // wants      WantItem[]

  created_at    DateTime @default(now())
  updated_at    DateTime @updatedAt
}

model Card {
  id              String   @id // Scryfall ID
  name            String
  set_code        String
  set_name        String
  collector_number String
  image_uri       String?
  small_image_uri String?
  oracle_text     String?
  type_line       String?
  rarity          String
  prices          Json?
  
  created_at      DateTime @default(now())
  updated_at      DateTime @updatedAt

  @@index([name])
  @@index([set_code])
}
